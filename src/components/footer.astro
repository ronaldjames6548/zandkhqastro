---
import LanguageSelector from "@components/languageselector.astro";
import { menuitems } from "@components/navbar/navbar.astro";
import ThemeSelector from "@components/themeselector.astro";
import logo from "assets/logo.svg";

// Remove old astro-i18next imports
// import { localizePath } from "astro-i18next";
// import { t } from "i18next";

// Add new built-in i18n imports
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import { getRelativeLocaleUrl } from "astro:i18n";

// Get current language and create translation function
const safeUrl = Astro.url || new URL('/', Astro.site || 'http://localhost:4321');
const lang = getLangFromUrl(safeUrl);
const t = useTranslations(lang);

// Helper function to create localized paths
function localizePath(path: string) {
	if (!path || (path && path.startsWith('http')) || path === '#') return path;
	return getRelativeLocaleUrl(lang, path);
}
---

<footer class="pb-12 pt-28 dark:bg-stone-950">
	<div class="mx-auto max-w-6xl px-6 md:px-12 lg:px-6 xl:px-0">
		<!-- DECOMMENT HERE IF YOU WANT YOUR LOGO IN THE FOOTER -->
		<!-- <a href={localizePath("/")} aria-label="logo" class="group flex items-center justify-center space-x-2">
			<Image class="inline-block" src={logo} alt="Astros" width={30} height={30} />
			<span class="text-semibold duration-300 text-gray-400 group-hover:text-gray-900 dark:text-white dark:group-hover:text-gray-100">
				Astros
			</span>
		</a> -->
		<ul role="list" class="flex flex-wrap items-center justify-center gap-4 py-4 text-gray-600 dark:text-white sm:gap-8">
			<li role="listitem">
				<a href={localizePath("/")} class="duration-300 hover:text-gray-900 dark:hover:text-gray-100">Home</a>
			</li>
			{
				menuitems.map(
					(item) =>
						item &&
						item.path && (
							<li role="listitem">
								<a href={localizePath(item.path)} class="duration-300 hover:text-gray-900 dark:hover:text-gray-100">
									{t(item.title)}
								</a>
							</li>
						)
				)
			}
		</ul>
		
		
		<script type="application/ld+json">
                    {
                        "@context": "http://schema.org",
                        "@type": "Organization",
                        "name": "Tiktokio",
                        "url": "https://tiktokio.cam",
                        "logo": "/apple-touch-icon-180x180.webp",
                        "image": "/meta/opengraph.webp",
                        "description":"TikTokio - Tiktok downloader to online download tiktok videos in mp4 without watermark easily, Tiktok video downloader is Fast, easy and works on any device",
                        "email": "contact@tiktokio.cam"
                    }
                </script>
                                
				<script type="application/ld+json">
				{ "@context": "http://schema.org", 
				"@type": "WebPage", 
				"url": "https://tiktokio.cam", 
				"inLanguage":"en-US", 
				"description": "TikTokio is Tiktok video downloader to online download tiktok videos without watermark easily, download video from tiktok, free download tiktok video in mp4." } 
				</script>
				
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is Tiktok - Tiktokio Video Downloader and how does it work?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Tiktok Video Downloader lets you download videos, reels, stories, and profile pictures from Tiktok. It processes the URL, extracts the media file, and provides a high-quality download link to save content directly to your device without watermarks."
      }
    },
    {
      "@type": "Question",
      "name": "How accurate is the Tiktokio - Tiktok Video Downloader for downloading high-quality videos?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Tiktok Video Downloader maintains original video quality in most cases. It ensures you get the highest resolution available from Tiktok while preserving all video details, colors, and audio quality."
      }
    },
    {
      "@type": "Question",
      "name": "How long does it take to download videos using Tiktokio - Tiktok Video Downloader?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Tiktokio - Tiktok Video Downloader processes most requests within seconds. Download time depends on your internet speed and video size. Most Tiktok videos, reels, and stories download in under 30 seconds, while longer Tiktok videos might take slightly more time."
      }
    },
    {
      "@type": "Question",
      "name": "Can I use Tiktok Video Downloader to save multiple videos at once?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! Tiktokio - Tiktok Video Downloader supports batch downloading, allowing you to save multiple Tiktok videos, reels, and stories simultaneously. This time-saving feature is perfect for content creators, marketers, or anyone needing to download several videos efficiently."
      }
    },
    {
      "@type": "Question",
      "name": "Will Tiktokio - Tiktok Video Downloader work if I download content multiple times?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, Tiktokio Tiktok Video Downloader works reliably every time. There are no limits to how many times you can download the same or different content. The servers are optimized to handle repeated requests, ensuring consistent performance for all your downloads."
      }
    },
    {
      "@type": "Question",
      "name": "How can I use videos downloaded with Tiktok Video Downloader?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Videos from Tiktok Video Downloader can be used for offline viewing, content collections, educational purposes, presentations, or sharing across platforms. The downloaded MP4 files are compatible with all major devices and video players."
      }
    },
    {
      "@type": "Question",
      "name": "Is Tiktokio - Tiktok Video Downloader compatible with all Tiktok content types?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Tiktok - Tiktok Video Downloader works with all Tiktok content types including regular videos, reels, stories, IGTV videos, and carousel posts containing videos. It's regularly updated to accommodate Tiktok platform changes."
      }
    },
    {
      "@type": "Question",
      "name": "Is my data private when using Tiktok Video Downloader?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, Tiktokio - Tiktok Video Downloader prioritizes your privacy. It doesn't store downloaded videos or track download history. The process happens through secure connections without requiring accounts or personal information."
      }
    },
    {
      "@type": "Question",
      "name": "What devices and browsers support Tiktok Video Downloader?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Tiktokio - Tiktok Downloader works on all major devices (Windows, Mac, iPhone, iPad, Android) and browsers (Chrome, Firefox, Safari, Edge, Opera). This cross-platform compatibility ensures you can download Tiktok videos on any device."
      }
    },
    {
      "@type": "Question",
      "name": "Can I download private Tiktok content with Tiktokio - Tiktok Downloader?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Tiktok Video Downloader can only download content you have permission to view. For private accounts, you must be logged in and following that account. Tiktok Downloader respects Tiktok's privacy settings and copyright policies."
      }
    }
  ]
}
</script>
<script type="application/ld+json"> 

{ "@context": "https://schema.org", 
"@type": "WebApplication", 
"name": "Tiktokio", 
"alternateName": [ "TikTokio - TikTok Video Downloader" ], 
"image": "https://tiktokio.cam/images/tiktokio-logo.webp", 
"operatingSystem": "Windows, Linux, iOS, Android, OSX, macOS", 
"applicationCategory": "UtilitiesApplication", 
"featureList": [ "TikTokio", "TikTok Video Downloader", "Download Tiktok Videos without watermark", "Download TikTok Videos", "Download Tiktok photos", "Download Douyin Video" ], 
"aggregateRating": { "@type": "AggregateRating", "ratingValue": "4.6", "ratingCount": "8173" }, 
"offers": { "@type": "Offer", "price": "0.00", "priceCurrency": "USD" } }

</script>				
			<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C33KK2QQG5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C33KK2QQG5');
</script>
<script type="text/javascript">
    aclib.runInterstitial({
        zoneId: '9421182',
    });
</script>
		
		<div class="m-auto mt-4 flex w-max items-center justify-between space-x-4 text-gray-500 dark:text-white">
			<a class="duration-300 hover:text-gray-900 dark:hover:text-gray-100" href="https://x.com/tiktokio_cam" title="twitter" target="blank" aria-label="twitter">
				<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="m-auto h-5 w-5" viewBox="0 0 16 16">
					<path
						d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z">
					</path>
				</svg>
			</a>
			<a class="duration-300 hover:text-gray-900 dark:hover:text-gray-100" href="#" title="facebook" target="blank" aria-label="facebook">
				<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="m-auto w-5" viewBox="0 0 16 16">
					<path
						d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z">
					</path>
				</svg>
			</a>
			<a class="duration-300 hover:text-gray-900 dark:hover:text-gray-100" href="#" title="linkedin" target="blank" aria-label="linkedin">
				<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="m-auto w-5" viewBox="0 0 16 16">
					<path
						d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.520-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z">
					</path>
				</svg>
			</a>
		</div>
		<div class="flex justify-center mt-12 gap-3">
			<LanguageSelector
				showFlag={false}
				languageMapping={{ en: "English", it: "Italiano" }}
				class="appearance-none py-1 px-2 rounded bg-slate-100 dark:bg-stone-950"
			/>
			<ThemeSelector />
		</div>
		<div class="mt-4 text-center">
			<span class="text-sm tracking-wide text-gray-500 dark:text-white">Copyright Â© {t("features.tiktokio")} 2025 - Present. All rights reserved</span>

		</div>
	</div>
</footer>